@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   DESIGN SYSTEM GOUVERNEMENTAL MAROCAIN
   Province de mediouna - MedAction
   ============================================ */

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  /* Hide scrollbar for carousel */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
}

@layer base {
  :root {
    /* === COULEURS GOUVERNEMENTALES MAROCAINES === */

    /* Rouge Marocain (Drapeau) */
    --gov-red: 348 83% 47%;
    --gov-red-dark: 348 83% 37%;
    --gov-red-light: 348 83% 57%;

    /* Or Royal (Étoile) */
    --gov-gold: 45 93% 47%;
    --gov-gold-dark: 45 93% 37%;
    --gov-gold-light: 45 93% 65%;

    /* Vert Officiel */
    --gov-green: 145 63% 32%;
    --gov-green-dark: 145 63% 22%;
    --gov-green-light: 145 63% 45%;

    /* Bleu Administratif */
    --gov-blue: 213 80% 28%;
    --gov-blue-dark: 213 80% 20%;
    --gov-blue-light: 213 80% 45%;

    /* Couleurs de base */
    --background: 0 0% 98%;
    --foreground: 220 15% 15%;
    --card: 0 0% 100%;
    --card-foreground: 220 15% 15%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 15% 15%;

    /* Primaire : Bleu Administratif */
    --primary: 213 80% 28%;
    --primary-foreground: 0 0% 100%;

    /* Secondaire : Gris Officiel */
    --secondary: 220 10% 94%;
    --secondary-foreground: 220 15% 20%;

    /* Muted / Désactivé */
    --muted: 220 10% 96%;
    --muted-foreground: 220 10% 45%;

    /* Accent : Or Royal */
    --accent: 45 93% 47%;
    --accent-foreground: 220 15% 15%;

    /* Destructif : Rouge */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    /* Succès */
    --success: 145 63% 32%;
    --success-foreground: 0 0% 100%;

    /* Warning */
    --warning: 45 93% 47%;
    --warning-foreground: 220 15% 15%;

    /* Info */
    --info: 213 80% 45%;
    --info-foreground: 0 0% 100%;

    /* Bordures */
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 213 80% 28%;

    /* Graphiques */
    --chart-1: 213 80% 45%;
    --chart-2: 145 63% 45%;
    --chart-3: 45 93% 47%;
    --chart-4: 348 83% 47%;
    --chart-5: 270 60% 50%;

    --radius: 0.625rem;
  }

  .dark {
    --background: 220 20% 10%;
    --foreground: 220 10% 95%;
    --card: 220 20% 13%;
    --card-foreground: 220 10% 95%;
    --popover: 220 20% 13%;
    --popover-foreground: 220 10% 95%;
    --primary: 213 70% 55%;
    --primary-foreground: 220 20% 10%;
    --secondary: 220 15% 20%;
    --secondary-foreground: 220 10% 90%;
    --muted: 220 15% 18%;
    --muted-foreground: 220 10% 60%;
    --accent: 45 80% 55%;
    --accent-foreground: 220 20% 10%;
    --destructive: 0 62% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 15% 20%;
    --input: 220 15% 20%;
    --ring: 213 70% 55%;
    --chart-1: 213 70% 55%;
    --chart-2: 145 55% 50%;
    --chart-3: 45 80% 55%;
    --chart-4: 348 70% 55%;
    --chart-5: 270 55% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-variant-ligatures: common-ligatures;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-outfit font-bold tracking-tight text-gray-900 dark:text-gray-100;
    line-height: 1.2;
  }

  h1 { @apply text-4xl md:text-5xl lg:text-6xl; }
  h2 { @apply text-3xl md:text-4xl; }
  h3 { @apply text-2xl md:text-3xl; }
  h4 { @apply text-xl md:text-2xl; }

  p, li {
    @apply leading-relaxed;
  }

  /* Typographie Arabe */
  [dir="rtl"] {
    font-family: 'Noto Kufi Arabic', 'Tajawal', sans-serif;
  }
}

@layer components {

  /* === EN-TÊTE GOUVERNEMENTAL === */
  .gov-header {
    @apply bg-gradient-to-r from-[hsl(var(--gov-blue-dark))] via-[hsl(var(--gov-blue))] to-[hsl(var(--gov-blue-dark))];
    @apply border-b-4 border-[hsl(var(--gov-gold))];
    @apply shadow-lg;
  }

  .gov-header-strip {
    @apply h-1 bg-gradient-to-r from-[hsl(var(--gov-red))] via-[hsl(var(--gov-gold))] to-[hsl(var(--gov-green))];
  }

  /* === BADGES OFFICIELS === */
  .gov-badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 text-xs font-semibold rounded-full;
    @apply border-2 shadow-sm;
  }

  .gov-badge-primary {
    @apply bg-[hsl(var(--gov-blue)/0.1)] text-[hsl(var(--gov-blue))] border-[hsl(var(--gov-blue)/0.3)];
  }

  .gov-badge-success {
    @apply bg-[hsl(var(--gov-green)/0.1)] text-[hsl(var(--gov-green))] border-[hsl(var(--gov-green)/0.3)];
  }

  .gov-badge-warning {
    @apply bg-[hsl(var(--gov-gold)/0.15)] text-[hsl(var(--gov-gold-dark))] border-[hsl(var(--gov-gold)/0.4)];
  }

  .gov-badge-danger {
    @apply bg-[hsl(var(--gov-red)/0.1)] text-[hsl(var(--gov-red))] border-[hsl(var(--gov-red)/0.3)];
  }

  /* === BOUTONS GOUVERNEMENTAUX === */
  .gov-btn {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5;
    @apply font-semibold text-sm rounded-lg;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .gov-btn-primary {
    @apply bg-[hsl(var(--gov-blue))] text-white;
    @apply hover:bg-[hsl(var(--gov-blue-dark))] hover:shadow-lg;
    @apply focus:ring-[hsl(var(--gov-blue)/0.5)];
    @apply active:scale-[0.98];
  }

  .gov-btn-secondary {
    @apply bg-white text-[hsl(var(--gov-blue))] border-2 border-[hsl(var(--gov-blue))];
    @apply hover:bg-[hsl(var(--gov-blue)/0.05)];
    @apply focus:ring-[hsl(var(--gov-blue)/0.3)];
  }

  .gov-btn-gold {
    @apply bg-gradient-to-r from-[hsl(var(--gov-gold-dark))] to-[hsl(var(--gov-gold))];
    @apply text-white font-bold;
    @apply hover:shadow-lg hover:shadow-[hsl(var(--gov-gold)/0.3)];
    @apply focus:ring-[hsl(var(--gov-gold)/0.5)];
  }

  .gov-btn-success {
    @apply bg-[hsl(var(--gov-green))] text-white;
    @apply hover:bg-[hsl(var(--gov-green-dark))];
    @apply focus:ring-[hsl(var(--gov-green)/0.5)];
  }

  .gov-btn-danger {
    @apply bg-[hsl(var(--gov-red))] text-white;
    @apply hover:bg-[hsl(var(--gov-red-dark))];
    @apply focus:ring-[hsl(var(--gov-red)/0.5)];
  }

  /* === CARTES GOUVERNEMENTALES === */
  .gov-card {
    @apply bg-white rounded-xl shadow-sm;
    @apply border border-gray-200;
    @apply overflow-hidden;
    @apply transition-all duration-300;
    @apply hover:shadow-md;
  }

  .gov-card-header {
    @apply px-6 py-4 border-b border-gray-100;
    @apply bg-gradient-to-r from-gray-50 to-white;
    @apply flex items-center justify-between;
  }

  .gov-card-official {
    @apply relative;
    @apply before:absolute before:inset-x-0 before:top-0 before:h-1;
    @apply before:bg-gradient-to-r before:from-[hsl(var(--gov-blue))] before:via-[hsl(var(--gov-gold))] before:to-[hsl(var(--gov-green))];
  }

  /* === SECTIONS OFFICIELLES === */
  .gov-section {
    @apply py-8 px-4 md:px-8;
  }

  .gov-section-header {
    @apply flex items-center gap-3 mb-6;
  }

  .gov-section-icon {
    @apply w-12 h-12 rounded-xl;
    @apply bg-gradient-to-br from-[hsl(var(--gov-blue))] to-[hsl(var(--gov-blue-dark))];
    @apply flex items-center justify-center text-white;
    @apply shadow-lg shadow-[hsl(var(--gov-blue)/0.3)];
  }

  .gov-section-title {
    @apply text-xl font-bold text-gray-900;
  }

  .gov-section-subtitle {
    @apply text-sm text-gray-500;
  }

  /* === TABLEAU ADMINISTRATIF === */
  .gov-table {
    @apply w-full border-collapse;
  }

  .gov-table thead {
    @apply bg-gradient-to-r from-[hsl(var(--gov-blue))] to-[hsl(var(--gov-blue-dark))];
  }

  .gov-table thead th {
    @apply px-4 py-3 text-left text-xs font-semibold text-white uppercase tracking-wider;
  }

  .gov-table tbody tr {
    @apply border-b border-gray-100 hover:bg-gray-50 transition-colors;
  }

  .gov-table tbody td {
    @apply px-4 py-3 text-sm text-gray-700;
  }

  .gov-table tbody tr:nth-child(even) {
    @apply bg-gray-50/50;
  }

  /* === SIDEBAR ADMINISTRATIVE === */
  .gov-sidebar {
    @apply w-64 bg-gradient-to-b from-[hsl(var(--gov-blue-dark))] to-[hsl(220, 25%, 15%)];
    @apply text-white min-h-screen;
  }

  .gov-sidebar-header {
    @apply p-6 border-b border-white/10;
    @apply flex items-center gap-3;
  }

  .gov-sidebar-nav-item {
    @apply flex items-center gap-3 px-4 py-3 text-sm font-medium;
    @apply text-white/70 hover:text-white hover:bg-white/10;
    @apply transition-all duration-200 rounded-lg mx-2 my-1;
  }

  .gov-sidebar-nav-item.active {
    @apply text-white bg-white/15 border-l-4 border-[hsl(var(--gov-gold))];
  }

  /* === STATISTIQUES === */
  .gov-stat-card {
    @apply bg-white rounded-xl p-6 shadow-sm border border-gray-100;
    @apply relative overflow-hidden;
  }

  .gov-stat-card::before {
    content: '';
    @apply absolute top-0 left-0 w-1 h-full;
    @apply bg-gradient-to-b from-[hsl(var(--gov-blue))] to-[hsl(var(--gov-gold))];
  }

  .gov-stat-value {
    @apply text-3xl font-bold text-gray-900;
  }

  .gov-stat-label {
    @apply text-sm text-gray-500 mt-1;
  }

  .gov-stat-icon {
    @apply absolute top-4 right-4 w-12 h-12 rounded-full;
    @apply bg-[hsl(var(--gov-blue)/0.1)] flex items-center justify-center;
    @apply text-[hsl(var(--gov-blue))];
  }

  /* === FORMULAIRES OFFICIELS === */
  .gov-input {
    @apply w-full px-4 py-2.5 text-sm;
    @apply border-2 border-gray-200 rounded-lg;
    @apply focus:border-[hsl(var(--gov-blue))] focus:ring-2 focus:ring-[hsl(var(--gov-blue)/0.2)];
    @apply transition-all duration-200;
    @apply placeholder:text-gray-400;
  }

  .gov-input:focus {
    @apply outline-none;
  }

  .gov-label {
    @apply block text-sm font-semibold text-gray-700 mb-1.5;
  }

  .gov-select {
    @apply gov-input appearance-none;
    @apply bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%236b7280%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3C%2Fpolyline%3E%3C%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.5rem_center] bg-no-repeat;
    @apply pr-10;
  }

  /* === ALERTES GOUVERNEMENTALES === */
  .gov-alert {
    @apply flex items-start gap-3 p-4 rounded-lg border-l-4;
  }

  .gov-alert-info {
    @apply bg-[hsl(var(--gov-blue)/0.05)] border-[hsl(var(--gov-blue))] text-[hsl(var(--gov-blue-dark))];
  }

  .gov-alert-success {
    @apply bg-[hsl(var(--gov-green)/0.05)] border-[hsl(var(--gov-green))] text-[hsl(var(--gov-green-dark))];
  }

  .gov-alert-warning {
    @apply bg-[hsl(var(--gov-gold)/0.1)] border-[hsl(var(--gov-gold))] text-[hsl(var(--gov-gold-dark))];
  }

  .gov-alert-danger {
    @apply bg-[hsl(var(--gov-red)/0.05)] border-[hsl(var(--gov-red))] text-[hsl(var(--gov-red-dark))];
  }

  /* === LOGO ET EMBLÈME === */
  .gov-emblem {
    @apply inline-flex items-center gap-3;
  }

    .gov-emblem-image {
      @apply w-14 h-14 object-contain;
    }

    .gov-emblem-text {
      @apply text-left;
    }

    .gov-emblem-title {
      @apply text-lg font-bold leading-tight;
    }

    .gov-emblem-subtitle {
      @apply text-sm opacity-80;
    }

    /* === ANIMATIONS === */
    @keyframes gov-pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.7;
      }
    }

    @keyframes gov-shimmer {
      0% {
        background-position: -200% 0;
      }

      100% {
        background-position: 200% 0;
      }
    }

    .gov-loading {
      @apply bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200;
      background-size: 200% 100%;
      animation: gov-shimmer 1.5s infinite;
    }

    /* === MOTIF ROYAL === */
    .gov-pattern {
      background-image:
        radial-gradient(circle at 25% 25%, hsl(var(--gov-gold) / 0.03) 1px, transparent 1px),
        radial-gradient(circle at 75% 75%, hsl(var(--gov-blue) / 0.03) 1px, transparent 1px);
      background-size: 24px 24px;
    }

    /* === FOOTER OFFICIEL === */
    .gov-footer {
      @apply bg-gradient-to-b from-gray-900 to-gray-950 text-white;
      @apply border-t-4 border-[hsl(var(--gov-gold))];
    }

    .gov-footer-top-strip {
      @apply h-1 bg-gradient-to-r from-[hsl(var(--gov-red))] via-[hsl(var(--gov-gold))] to-[hsl(var(--gov-green))];
    }
  }

  /* === SCROLLBAR PERSONNALISÉE === */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--muted));
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--gov-blue) / 0.3);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--gov-blue) / 0.5);
  }

  /* === FOCUS VISIBLE === */
  :focus-visible {
    outline: 2px solid hsl(var(--gov-blue));
    outline-offset: 2px;
  }

  /* === SÉLECTION TEXTE === */
  ::selection {
    background: hsl(var(--gov-blue) / 0.2);
    color: hsl(var(--gov-blue-dark));
  }